import{b as v,r as c,u as y,j as e}from"./index-D5Dl40EV.js";function N({categories:d,onSubmit:u,isDeleting:i,isSaving:o,transaction:s,onDelete:m}){const{register:a,handleSubmit:x,watch:p,reset:l,formState:r}=v(),n=c.useRef({});n.current=p("date");const j=y();c.useEffect(()=>{s&&s.transactionId&&l({category:String(s.categoryId),description:s.description,amount:s.amount,date:s.date.split("T")[0]})},[l,s]);const b=(t,h)=>{t.preventDefault(),m(h)},g=t=>{t.preventDefault(),j("/user/transactions")};return e.jsxs("form",{className:"auth-form t-form",onSubmit:x(u),children:[e.jsxs("div",{className:"input-box",children:[e.jsx("label",{children:"Transaction Category"}),e.jsx("br",{}),e.jsx("div",{className:"radio",children:d.filter(t=>t.enabled).map(t=>e.jsxs("span",{children:[e.jsx("input",{type:"radio",id:t.categoryName,value:t.categoryId,...a("category",{required:"category is required"})}),e.jsx("label",{for:t.categoryName,children:t.categoryName})]},t.categoryId))}),r.errors.category&&e.jsx("small",{children:r.errors.category.message})]}),e.jsxs("div",{className:"input-box",children:[e.jsx("label",{children:"Transaction description"}),e.jsx("br",{}),e.jsx("input",{type:"text",...a("description",{maxLength:{value:50,message:"Description can have atmost 50 characters!"}})}),r.errors.description&&e.jsx("small",{children:r.errors.description.message})]}),e.jsxs("div",{className:"input-box",children:[e.jsx("label",{children:"Amount"}),e.jsx("br",{}),e.jsx("input",{type:"text",...a("amount",{required:"Amount is required!",pattern:{value:/^[0-9.]{1,}$/g,message:"Invalid amount!"}})}),r.errors.amount&&e.jsx("small",{children:r.errors.amount.message})]}),e.jsxs("div",{className:"input-box",children:[e.jsx("label",{children:"Date"}),e.jsx("br",{}),e.jsx("input",{type:"date",value:n.current===void 0?new Date().toISOString().split("T")[0]:n.current,...a("date")}),r.errors.date&&e.jsx("small",{children:r.errors.date.message})]}),e.jsxs("div",{className:"t-btn input-box",children:[e.jsx("input",{type:"submit",value:o?"Saving...":"Save transaction",className:o?"button button-fill loading":"button button-fill"}),e.jsx("input",{type:"submit",className:"button outline",value:"Cancel",onClick:t=>g(t)})]}),s?e.jsx("div",{className:"t-btn input-box",children:e.jsx("button",{className:i?"button delete loading":"button delete",onClick:t=>b(t,s.transactionId),children:i?"Deleting...":"Delete transaction"})}):e.jsx(e.Fragment,{})]})}export{N as T};
