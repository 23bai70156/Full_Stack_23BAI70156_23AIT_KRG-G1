import{b as m,r as u,u as x,j as e,C as p,H as y,I as g,_ as o}from"./index-D5Dl40EV.js";import{A as j}from"./adminService-yn0D8as4.js";function v(){const{register:s,handleSubmit:l,formState:a}=m(),[t,i]=u.useState(!1),d=x(),c=async n=>{i(!0),await j.addNewcategory(n.cname,n.type).then(r=>{r.data.status==="SUCCESS"&&d("/admin/categories")},r=>{r.response?o.error("Failed to add category: Try again later!"):o.error("Failed to add category: Try again later!")}),i(!1)};return e.jsxs(p,{activeNavId:7,children:[e.jsx(y,{title:"New Category"}),e.jsx(g,{}),e.jsxs("form",{className:"auth-form t-form",onSubmit:l(c),style:{marginTop:"25px"},children:[e.jsxs("div",{className:"input-box",children:[e.jsx("label",{children:"Category name"}),e.jsx("br",{}),e.jsx("input",{type:"text",...s("cname",{required:"Category name is required!",maxLength:{value:30,message:"Category name can have atmost 30 characters!"}})}),a.errors.cname&&e.jsx("small",{children:a.errors.cname.message})]}),e.jsxs("div",{className:"input-box",children:[e.jsx("label",{children:"Transaction type"}),e.jsx("br",{}),e.jsxs("div",{className:"radio",children:[e.jsx("span",{children:e.jsxs("label",{children:[e.jsx("input",{type:"radio",id:1,value:1,...s("type",{required:"Transaction type is required!"})}),"Expense"]})}),e.jsx("span",{children:e.jsxs("label",{children:[e.jsx("input",{type:"radio",id:2,value:2,...s("type",{required:"Transaction type is required!"})}),"Income"]})})]}),a.errors.type&&e.jsx("small",{children:a.errors.type.message})]}),e.jsx("div",{className:"input-box",children:e.jsx("input",{type:"submit",value:t?"Saving...":"Save category",className:t?"button button-fill loading":"button button-fill"})})]})]})}export{v as default};
