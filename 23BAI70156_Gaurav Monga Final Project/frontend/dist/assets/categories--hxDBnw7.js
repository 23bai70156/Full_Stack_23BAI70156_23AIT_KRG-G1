import{d as y,j as e,C as x,H as j,I as f,e as v,f as b,u as m}from"./index-D5Dl40EV.js";import{A as C}from"./adminService-yn0D8as4.js";var I=t=>typeof t=="function",p=(t,a)=>I(t)?t(a):t,E=(()=>{let t=0;return()=>(++t).toString()})(),S=20,l=new Map,T=1e3,h=t=>{if(l.has(t))return;let a=setTimeout(()=>{l.delete(t),c({type:4,toastId:t})},T);l.set(t,a)},A=t=>{let a=l.get(t);a&&clearTimeout(a)},g=(t,a)=>{switch(a.type){case 0:return{...t,toasts:[a.toast,...t.toasts].slice(0,S)};case 1:return a.toast.id&&A(a.toast.id),{...t,toasts:t.toasts.map(o=>o.id===a.toast.id?{...o,...a.toast}:o)};case 2:let{toast:s}=a;return t.toasts.find(o=>o.id===s.id)?g(t,{type:1,toast:s}):g(t,{type:0,toast:s});case 3:let{toastId:i}=a;return i?h(i):t.toasts.forEach(o=>{h(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,visible:!1}:o)};case 4:return a.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==a.toastId)};case 5:return{...t,pausedAt:a.time};case 6:let r=a.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+r}))}}},k=[],u={toasts:[],pausedAt:void 0},c=t=>{u=g(u,t),k.forEach(a=>{a(u)})},w=(t,a="blank",s)=>({createdAt:Date.now(),visible:!0,type:a,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:s?.id||E()}),d=t=>(a,s)=>{let i=w(a,t,s);return c({type:2,toast:i}),i.id},n=(t,a)=>d("blank")(t,a);n.error=d("error");n.success=d("success");n.loading=d("loading");n.custom=d("custom");n.dismiss=t=>{c({type:3,toastId:t})};n.remove=t=>c({type:4,toastId:t});n.promise=(t,a,s)=>{let i=n.loading(a.loading,{...s,...s?.loading});return t.then(r=>(n.success(p(a.success,r),{id:i,...s,...s?.success}),r)).catch(r=>{n.error(p(a.error,r),{id:i,...s,...s?.error})}),t};var N=n;function O(){const[t,a]=y(),s=async i=>{await C.disableOrEnableCategory(i).then(r=>{r.data.status==="SUCCESS"&&window.location.reload()},r=>{N.error("Failed to update category: Try again later!")})};return e.jsxs(x,{activeNavId:6,children:[e.jsx(j,{title:"Categories"}),e.jsx(f,{}),a&&e.jsx(v,{}),!a&&t.length===0&&e.jsx(b,{text:"No categories found!"}),!a&&t.length!==0&&e.jsxs("table",{children:[e.jsx(D,{}),e.jsx(H,{data:t,disableOrEnable:s})]})]})}function D(){return e.jsxs("tr",{children:[e.jsx("th",{children:"Category Id"}),e.jsx("th",{children:"Category Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Enabled"}),e.jsx("th",{children:"Action"})]})}function H({data:t,disableOrEnable:a}){const s=m(),i=r=>{localStorage.setItem("categoryToEdit",JSON.stringify(r)),s(`/admin/editCategory/${r.categoryId}`)};return t.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:"C"+String(r.categoryId).padStart(5,"0")}),e.jsx("td",{children:r.categoryName}),e.jsx("td",{children:r.transactionType.transactionTypeName}),r.enabled?e.jsx("td",{style:{color:"#6aa412"},children:"Enabled"}):e.jsx("td",{style:{color:"#ff0000"},children:"Disabled"}),e.jsxs("td",{style:{display:"flex",gap:"5px"},children:[e.jsx("button",{onClick:()=>i(r),children:"Edit"}),r.enabled?e.jsx("button",{onClick:()=>a(r.categoryId),style:{backgroundColor:"#ff0000"},children:"Disable"}):e.jsx("button",{onClick:()=>a(r.categoryId),style:{backgroundColor:"#6aa412"},children:"Enable"})]})]},r.categoryId))}export{O as default};
